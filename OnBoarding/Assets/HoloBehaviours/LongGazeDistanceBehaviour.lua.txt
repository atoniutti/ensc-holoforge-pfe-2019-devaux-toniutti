-- Generated by CSharp.lua Compiler
local System = System
System.namespace("", function (namespace)
  namespace.class("LongGazeDistanceBehaviour", function (namespace)
    local OnGazeEnded, OnGazeStarted, OnGazeTapped, OnLongGazeEnded, CheckDistance, OnLongGaze
    OnGazeEnded = function (this, _target, _collider)
      this:get_Engine().Async:CancelInvoke(this.action)
      this.animatorComponent:SetBoolParameter("Gaze", false)
    end
    OnGazeStarted = function (this, _target, _collider)
      this.animatorComponent:SetBoolParameter("Gaze", true)
    end
    OnGazeTapped = function (this, _target, _collider)
    end
    OnLongGazeEnded = function (this, _target, _collider)
      this.action = this:get_Engine().Async:InvokeOnCondition(System.fn(this, CheckDistance), System.fn(this, OnLongGaze), "")
    end
    CheckDistance = function (this)
      local distance = this:get_Engine():GetUserDistanceFrom(this.gazeComponent:get_Target():get_Transform():get_Position())
      return distance < this.maxDistance
    end
    OnLongGaze = function (this)
      this.animatorComponent:SetBoolParameter("LongGaze", true)
    end
    return {
      __inherits__ = function (out)
        return {
          out.HoloForge.Holo.HoloBehaviour,
          out.HoloForge.Holo.IGazeComponent
        }
      end,
      maxDistance = 0.0,
      OnGazeEnded = OnGazeEnded,
      OnGazeStarted = OnGazeStarted,
      OnGazeTapped = OnGazeTapped,
      OnLongGazeEnded = OnLongGazeEnded
    }
  end)
end)
